<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>Заглушка</title>
    <analytics></analytics>
  </head>

  <body class="index">
    <h1>МАНЕРА</h1>
    <div class="splash"><p class="splashtext">ЗАГЛУШКА</p></div>
    <a href="about.html"><div class="project"><p class="projecttext">О ПРОЕКТЕ</p></div></a> 
    <div class="nach">
      <h2>МАНЕРА  <br> КРУТИТ МИР!!!<h2>
        <h3>МЕДИА ПЛАТФОРМА ДЛЯ ИЗУЧЕНИЯ ЭТИКЕТА</h3>
        <h4>УЗНАТЬ О ЗАПУСКЕ</h4>
    </div>
    <!-- второй блок  -->
   <div class="vtoroe">
    <!-- форма -->
    <div class="connect">
      <h5>чтобы первым</h5>
      <h6>(ой)</h6>
      <h7>узнать о запуске </h7>
      <h8>сервиса, пожалуйста, оставь свою почту</h8>
    </div>
    <!-- стикеры -->
    <div class="stiker"></div>
   </div>
  </body>
  
  <!-- ФОРМА -->
  <form id="my-form" action="https://formspree.io/f/xwkdayag" method="POST">
    <input type="email" name="email" class="mailme" />
    <button id="my-form-button">Готово</button>
    <p id="my-form-status"></p>
</form>

<script>
var form = document.getElementById("my-form");

async function handleSubmit(event) {
event.preventDefault();
var status = document.getElementById("my-form-status");
var data = new FormData(event.target);
fetch(event.target.action, {
    method: form.method,
    body: data,
    headers: {
        'Accept': 'application/json'
    }
}).then(response => {
    if (response.ok) {
        status.innerHTML = "Спасибо за подписку!";
        form.reset()
    } else {
        response.json().then(data => {
            if (Object.hasOwn(data, 'errors')) {
                status.innerHTML = data["errors"].map(error => error["message"]).join(", ")
            } else {
                status.innerHTML = "Возникли проблемы"
            }
        })
    }
}).catch(error => {
    status.innerHTML = "Возникли проблемы"
});
}
form.addEventListener("submit", handleSubmit)
</script>

</html>
